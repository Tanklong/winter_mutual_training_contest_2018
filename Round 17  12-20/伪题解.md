## Round 17

出题人：林旭恒、潘云舟、吴作同

#### 取石子

https://codeforces.com/problemset/problem/1007/E

#### 传送门

首先显然和mod n要相等。此外，如果 $a \neq b$ 且 $a$ 全是自环显然也不行。否则假设有一个位置 $x$ 满足 $a_x \neq x$。设当前的传送门数组为 $v$。

为了叙述方便设 $x=0$。考虑这样构造，我们先将 $v_0$ 移到 $n-1$，然后每次把 $v_0$ 减一，如果 $v_{n-1} \neq b_{n-1}$，就把 $v_0$ 加一减一，这样搞一搞我们就可以把 $v_2...v_{n-1}$ 变成我们想要的值，然后此时 $v_0=1$。考虑接下来把 $v_0$ 搞对，我们只要对 $v_0$ 一直加就好了。这时候我们会把 $v_2...v_{n-1}$ 搞乱，但是我们可以直接算出这个东西的影响，然后直接一开始就把 $b$ 改成要的这个值。